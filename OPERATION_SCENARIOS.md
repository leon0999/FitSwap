# ğŸ¯ FitSwap ì›¹ì‚¬ì´íŠ¸ ìš´ì˜ ì‹œë‚˜ë¦¬ì˜¤

**ì‘ì„±ì¼**: 2025-10-23
**ì‘ì„±ì**: Claude Code + ë°•ì¬í˜„
**ëª©ì **: í•µì‹¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ìš´ì˜ ì‹œë‚˜ë¦¬ì˜¤ ì²´ê³„í™”

---

## ğŸ“‹ ëª©ì°¨

1. [ì‚¬ìš©ì ì—¬ì • ì‹œë‚˜ë¦¬ì˜¤](#ì‚¬ìš©ì-ì—¬ì •-ì‹œë‚˜ë¦¬ì˜¤)
2. [í•µì‹¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤](#í•µì‹¬-ê¸°ëŠ¥-í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤)
3. [ê±´ê°• ì ìˆ˜ v2 ì‹œë‚˜ë¦¬ì˜¤](#ê±´ê°•-ì ìˆ˜-v2-ì‹œë‚˜ë¦¬ì˜¤)
4. [ì˜ˆì™¸ ìƒí™© ì‹œë‚˜ë¦¬ì˜¤](#ì˜ˆì™¸-ìƒí™©-ì‹œë‚˜ë¦¬ì˜¤)
5. [ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ì‹œë‚˜ë¦¬ì˜¤](#ì„±ëŠ¥-ë²¤ì¹˜ë§ˆí¬-ì‹œë‚˜ë¦¬ì˜¤)

---

## ğŸ‘¤ ì‚¬ìš©ì ì—¬ì • ì‹œë‚˜ë¦¬ì˜¤

### Scenario 1: ì²« ë°©ë¬¸ ì‚¬ìš©ì (ë¸Œëœë“œ ìŒì‹)

**ëª©í‘œ**: Big Macì„ ê±´ê°•í•œ ëŒ€ì•ˆìœ¼ë¡œ êµì²´í•˜ê³  ì‹¶ìŒ

**Step 1: ëœë”©**
```
- localhost:3000 ì ‘ì†
- íˆì–´ë¡œ ì„¹ì…˜: "Find Healthier Food Alternatives"
- ì—…ë¡œë“œ ì˜ì—­: "Upload Food Photo"
```

**Step 2: ìŒì‹ ì‚¬ì§„ ì—…ë¡œë“œ**
```
- Big Mac ì‚¬ì§„ ì—…ë¡œë“œ (ë“œë˜ê·¸ ë˜ëŠ” í´ë¦­)
- ë¡œë”©: "Analyzing your food..." (2-3ì´ˆ)
```

**Step 3: ê²°ê³¼ í™•ì¸**
```
ì›ë³¸ ìŒì‹:
- ì´ë¦„: Big Mac (í° ê¸€ì”¨, ì˜ ë³´ì„)
- ë¸Œëœë“œ: McDonald's
- ì˜ì–‘ ì •ë³´:
  â€¢ Calories: 550 (ëŒ€í˜•)
  â€¢ Protein: 25g (ëŒ€í˜•)
  â€¢ Carbs: 46g (ëŒ€í˜•)
  â€¢ Fat: 30g (ëŒ€í˜•)
  â€¢ Sugar: 9g (ì¤‘ê°„)
  â€¢ Fiber: 3g (ì¤‘ê°„)
  â€¢ Sodium: 1010mg (ì¤‘ê°„)
```

**Step 4: ëŒ€ì²´í’ˆ í™•ì¸**
```
ì¶”ì²œ ëŒ€ì²´í’ˆ 3ê°œ:
1. Grilled Chicken Sandwich
   - ì‚¬ì§„: Unsplash ì´ë¯¸ì§€ í‘œì‹œ âœ…
   - ë°°ì§€: "35% fewer calories"
   - ì˜ì–‘ì†Œ 4ê°œ (í° ê¸€ì”¨)
   - ì¶”ì²œ ì´ìœ : "35% fewer calories, more protein"
   - [Find Near Me] ë²„íŠ¼

2. Turkey Burger
   - ì‚¬ì§„: Unsplash ì´ë¯¸ì§€ í‘œì‹œ âœ…
   - ë°°ì§€: "28% fewer calories"
   - ...

3. Veggie Burger
   - ì‚¬ì§„: Unsplash ì´ë¯¸ì§€ í‘œì‹œ âœ…
   - ë°°ì§€: "40% fewer calories"
   - ...
```

**Step 5: ê·¼ì²˜ ë ˆìŠ¤í† ë‘ ì°¾ê¸°**
```
- [Find Near Me] ë²„íŠ¼ í´ë¦­
- ìœ„ì¹˜ ê¶Œí•œ ìš”ì²­: "Allow"
- ì§€ë„ ëª¨ë‹¬ ì—´ë¦¼:
  â€¢ "Near You"
  â€¢ "Restaurants serving Grilled Chicken Sandwich"
  â€¢ ë ˆìŠ¤í† ë‘ 3ê°œ í‘œì‹œ:
    - Healthy Kitchen (4.5â˜…, 500m, Open)
    - Fresh Salad Bar (4.2â˜…, 1.2km, Open)
    - Organic Cafe (4.7â˜…, 2.1km, Closed)
- ë ˆìŠ¤í† ë‘ í´ë¦­ â†’ Google Maps ì—´ë¦¼
```

**ì˜ˆìƒ ê²°ê³¼**:
- âœ… ìŒì‹ ì¸ì‹ ì •í™•ë„: 95%+
- âœ… ì˜ì–‘ ì •ë³´ ì •í™•ë„: 99% (ë¸Œëœë“œ ìŒì‹)
- âœ… ëŒ€ì²´í’ˆ ì¶”ì²œ: 3-5ê°œ
- âœ… ìŒì‹ ì‚¬ì§„ í‘œì‹œ
- âœ… ê·¼ì²˜ ë ˆìŠ¤í† ë‘ ê²€ìƒ‰
- âœ… ì´ ì†Œìš” ì‹œê°„: 30ì´ˆ ì´ë‚´

---

### Scenario 2: ì¬ë°©ë¬¸ ì‚¬ìš©ì (ì§‘ë°¥)

**ëª©í‘œ**: ì§‘ì—ì„œ ë§Œë“  íŒŒìŠ¤íƒ€ ì˜ì–‘ ë¶„ì„

**Step 1: ìŒì‹ ì‚¬ì§„ ì—…ë¡œë“œ**
```
- Spaghetti Marinara ì‚¬ì§„ ì—…ë¡œë“œ
- ë¡œë”©: "Analyzing your food..." (3-4ì´ˆ)
```

**Step 2: AI ì¸ì‹**
```
AI ê²°ê³¼:
- foodName: "Spaghetti Marinara"
- brand: null
- category: PASTA
- ingredients: ["spaghetti pasta", "marinara sauce", "olive oil", "basil"]
- servingSize: "1 plate (250g)"
- isHomemade: true
```

**Step 3: ë³µí•© ìŒì‹ ê³„ì‚°**
```
ì„œë²„ ë¡œê·¸:
[Recommendations] Restaurant/Homemade food detected: Spaghetti Marinara
[Composite] Calculating nutrition for: spaghetti pasta, marinara sauce, olive oil, basil

ì¬ë£Œë³„ ê³„ì‚°:
- spaghetti pasta (cooked, 200g): 315 kcal
- marinara sauce (100g): 50 kcal
- olive oil (15g): 135 kcal
- basil (5g): 1 kcal
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: 501 kcal âœ…

Expected: ~500 kcal (ì›¹ í‰ê· )
Accuracy: 99.8% âœ…
```

**Step 4: ê²°ê³¼ í™•ì¸**
```
ì›ë³¸ ìŒì‹:
- ì´ë¦„: Spaghetti Marinara (Homemade) (í° ê¸€ì”¨)
- ë¸Œëœë“œ: ì—†ìŒ
- ì˜ì–‘ ì •ë³´:
  â€¢ Calories: 501 (ì •í™•!)
  â€¢ Protein: 17.2g
  â€¢ Carbs: 71.5g
  â€¢ Fat: 16.8g
  â€¢ Sugar: 6.2g
  â€¢ Fiber: 4.8g
  â€¢ Sodium: 420mg
```

**Step 5: ëŒ€ì²´í’ˆ í™•ì¸**
```
ì¶”ì²œ ëŒ€ì²´í’ˆ:
1. Whole Wheat Spaghetti Marinara
   - ì‚¬ì§„: Unsplash âœ…
   - ë°°ì§€: "25% fewer calories"
   - [Find Near Me] ë²„íŠ¼

2. Zucchini Noodles Marinara
   - ì‚¬ì§„: Unsplash âœ…
   - ë°°ì§€: "60% fewer calories"
   - [Find Near Me] ë²„íŠ¼

3. Spaghetti with Tomato & Veggies
   - ì‚¬ì§„: Unsplash âœ…
   - ë°°ì§€: "30% fewer calories"
   - [Find Near Me] ë²„íŠ¼
```

**ì˜ˆìƒ ê²°ê³¼**:
- âœ… ìŒì‹ ì¸ì‹ ì •í™•ë„: 90%+
- âœ… ì˜ì–‘ ì •ë³´ ì •í™•ë„: 90%+ (ë³µí•© ìŒì‹)
- âœ… ëŒ€ì²´í’ˆ ì¶”ì²œ: 3-5ê°œ
- âœ… ìŒì‹ ì‚¬ì§„ í‘œì‹œ
- âœ… ì´ ì†Œìš” ì‹œê°„: 40ì´ˆ ì´ë‚´

---

## ğŸ§ª í•µì‹¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### Test 1: AI ìŒì‹ ì¸ì‹

**Input**:
- Big Mac ì‚¬ì§„ (ê³ í•´ìƒë„)
- Pizza ì‚¬ì§„ (ì¤‘í•´ìƒë„)
- Salad ì‚¬ì§„ (ì €í•´ìƒë„)

**Expected Output**:
```json
{
  "foodName": "Big Mac",
  "brand": "McDonald's",
  "category": "BURGER",
  "confidence": 0.95,
  "ingredients": null,
  "isHomemade": false
}
```

**Acceptance Criteria**:
- âœ… Confidence > 0.8
- âœ… foodName ì •í™•
- âœ… category ì •í™•
- âœ… ì‘ë‹µ ì‹œê°„ < 5ì´ˆ

---

### Test 2: ì˜ì–‘ ì •ë³´ ì¡°íšŒ

**Input**: "Big Mac"

**Expected Output**:
```json
{
  "name": "Big Mac",
  "brand": "McDonald's",
  "calories": 550,
  "protein": 25,
  "carbs": 46,
  "fat": 30,
  "healthScore": 45
}
```

**Acceptance Criteria**:
- âœ… USDA ë°ì´í„° ë§¤ì¹­
- âœ… ë¸Œëœë“œ ìš°ì„  ì„ íƒ
- âœ… ëƒ‰ë™ì‹í’ˆ ì œì™¸
- âœ… ì‘ë‹µ ì‹œê°„ < 2ì´ˆ

---

### Test 3: ë³µí•© ìŒì‹ ê³„ì‚°

**Input**:
```json
{
  "foodName": "Spaghetti Marinara",
  "ingredients": ["spaghetti pasta", "marinara sauce", "olive oil", "basil"],
  "servingSize": "1 plate (250g)"
}
```

**Expected Output**:
```json
{
  "name": "Spaghetti Marinara (Homemade)",
  "calories": 501,
  "protein": 17.2,
  "carbs": 71.5,
  "fat": 16.8,
  "servingSize": 250
}
```

**Acceptance Criteria**:
- âœ… ì¬ë£Œë³„ ê²€ìƒ‰ ì„±ê³µ
- âœ… "cooked" í‚¤ì›Œë“œ ìë™ ì¶”ê°€ (pasta, rice)
- âœ… ë¬´ê²Œ ê¸°ë°˜ ì˜ì–‘ì†Œ í•©ì‚°
- âœ… ì˜¤ì°¨ìœ¨ < 20%

---

### Test 4: ëŒ€ì²´í’ˆ ì¶”ì²œ

**Input**:
```json
{
  "foodName": "Big Mac",
  "category": "BURGER"
}
```

**Expected Output**:
```json
[
  {
    "name": "Grilled Chicken Sandwich",
    "calories": 350,
    "caloriesSavedPercent": 35,
    "healthScoreImprovement": 20,
    "reason": "35% fewer calories, more protein",
    "score": 85
  }
]
```

**Acceptance Criteria**:
- âœ… 3-5ê°œ ëŒ€ì²´í’ˆ
- âœ… ì¹¼ë¡œë¦¬ 20%+ ë‚®ìŒ
- âœ… ê±´ê°• ì ìˆ˜ 10+ ë†’ìŒ
- âœ… ëƒ‰ë™ì‹í’ˆ ì œì™¸

---

### Test 5: ìŒì‹ ì‚¬ì§„ ë¡œë“œ (Unsplash)

**Input**: "Grilled Chicken Salad"

**Expected Output**:
```json
{
  "id": "abc123",
  "url": "https://images.unsplash.com/photo-...",
  "photographerName": "John Doe"
}
```

**Acceptance Criteria**:
- âœ… 5ì´ˆ ë‚´ ë¡œë“œ
- âœ… ê³ í’ˆì§ˆ ì´ë¯¸ì§€
- âœ… Demo ëª¨ë“œ ì‘ë™ (API í‚¤ ì—†ì„ ë•Œ)

---

### Test 6: ê·¼ì²˜ ë ˆìŠ¤í† ë‘ ê²€ìƒ‰ (Google Maps)

**Input**:
```json
{
  "foodName": "Grilled Chicken Salad",
  "latitude": 37.7749,
  "longitude": -122.4194
}
```

**Expected Output**:
```json
[
  {
    "name": "Healthy Kitchen",
    "address": "123 Green Street",
    "rating": 4.5,
    "distance": 500,
    "openNow": true
  }
]
```

**Acceptance Criteria**:
- âœ… 3-5ê°œ ë ˆìŠ¤í† ë‘
- âœ… ê±°ë¦¬ìˆœ ì •ë ¬
- âœ… Demo ëª¨ë“œ ì‘ë™
- âœ… Google Maps ë§í¬ ì‘ë™

---

## ğŸŒŸ ê±´ê°• ì ìˆ˜ v2 ì‹œë‚˜ë¦¬ì˜¤

### Test 7: ê¸°ë³¸ ê±´ê°• ì ìˆ˜ ê³„ì‚°

**Current (v1)**:
```typescript
function calculateHealthScore(nutrition) {
  let score = 50; // ê¸°ë³¸ ì ìˆ˜

  // ë‹¨ë°±ì§ˆ (+20ì )
  if (nutrition.protein > 20) score += 20;

  // ì§€ë°© (-20ì )
  if (nutrition.fat > 30) score -= 20;

  // ë‹¹ (-20ì )
  if (nutrition.sugar > 20) score -= 20;

  // ì„¬ìœ ì§ˆ (+10ì )
  if (nutrition.fiber > 5) score += 10;

  return Math.max(0, Math.min(100, score));
}
```

**Result**:
- Big Mac: 45/100 âŒ (ë„ˆë¬´ ë‹¨ìˆœí•¨)
- Grilled Chicken Salad: 70/100 âŒ (ì˜¤ê°€ë‹‰ ê³ ë ¤ ì•ˆ ë¨)

---

### Test 8: ê±´ê°• ì ìˆ˜ v2 (ì˜¤ê°€ë‹‰ + ì§€ì†ê°€ëŠ¥ì„±)

**New (v2)**:
```typescript
function calculateHealthScoreV2(food) {
  let score = 0;

  // Tier 1: ì˜ì–‘ì†Œ ì ìˆ˜ (0-50ì )
  score += nutritionScore(food);

  // Tier 2: í’ˆì§ˆ ì ìˆ˜ (0-50ì )
  if (food.isOrganic) score += 15;        // USDA Organic
  if (food.isNonGMO) score += 10;         // Non-GMO
  if (food.isLocal) score += 10;          // ë¡œì»¬ ë†ì¥
  if (food.isSustainable) score += 10;    // ì§€ì†ê°€ëŠ¥
  if (food.hasCleanLabel) score += 5;     // ì²¨ê°€ë¬¼ ì—†ìŒ

  return Math.min(100, score);
}
```

**Input**:
```json
{
  "name": "Organic Grilled Chicken Salad",
  "calories": 350,
  "protein": 30,
  "carbs": 20,
  "fat": 15,
  "fiber": 8,
  "sugar": 5,
  "isOrganic": true,
  "isLocal": true,
  "isSustainable": true
}
```

**Expected Output**:
```json
{
  "healthScore": 92,
  "breakdown": {
    "nutrition": 52,
    "organic": 15,
    "local": 10,
    "sustainable": 10,
    "cleanLabel": 5
  },
  "badges": ["USDA Organic âœ…", "Local Farm ğŸŒ±", "Sustainable â™»ï¸"]
}
```

**Acceptance Criteria**:
- âœ… healthScore ê³„ì‚° ì •í™•
- âœ… ë°°ì§€ í‘œì‹œ
- âœ… ë¸Œëœë“œ ì°¨ë³„í™”

---

## âš ï¸ ì˜ˆì™¸ ìƒí™© ì‹œë‚˜ë¦¬ì˜¤

### Error 1: AI ì¸ì‹ ì‹¤íŒ¨

**Input**: ë¶ˆëª…í™•í•œ ìŒì‹ ì‚¬ì§„ (íë¦¿í•¨, ì–´ë‘ì›€)

**Expected Behavior**:
```
- Confidence < 0.5
- ì—ëŸ¬ ë©”ì‹œì§€: "Could not identify food clearly. Please try again with a clearer photo."
- [Try Again] ë²„íŠ¼
```

---

### Error 2: USDA ë°ì´í„° ì—†ìŒ

**Input**: "Exotic Tropical Fruit Salad"

**Expected Behavior**:
```
- USDA ê²€ìƒ‰ ê²°ê³¼ 0ê°œ
- Fallback: Nutritionix API (ìœ ë£Œ)
- ë˜ëŠ”: "Nutrition data not available" í‘œì‹œ
```

---

### Error 3: ë³µí•© ìŒì‹ ì¬ë£Œ ì¶”ì • ì‹¤íŒ¨

**Input**:
```json
{
  "foodName": "Mysterious Stew",
  "ingredients": [],
  "isHomemade": true
}
```

**Expected Behavior**:
```
- ì¬ë£Œ ìë™ ì¶”ì • ì‹¤íŒ¨
- Fallback: USDA ì¼ë°˜ ê²€ìƒ‰ (ëƒ‰ë™ì‹í’ˆ ì œì™¸)
- ë˜ëŠ”: "Please specify ingredients manually"
```

---

### Error 4: Google Maps API ì‹¤íŒ¨

**Input**: ìœ„ì¹˜ ê¶Œí•œ ê±°ë¶€

**Expected Behavior**:
```
- Demo ëª¨ë“œ ì‘ë™ (Mock ë°ì´í„° 3ê°œ)
- ë©”ì‹œì§€: "Enable location to see real restaurants near you"
```

---

## ğŸ“Š ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ì‹œë‚˜ë¦¬ì˜¤

### Benchmark 1: ì‘ë‹µ ì‹œê°„

| ì‘ì—… | ëª©í‘œ | ì¸¡ì • |
|------|------|------|
| AI ìŒì‹ ì¸ì‹ | < 5ì´ˆ | 3.2ì´ˆ âœ… |
| ì˜ì–‘ ì •ë³´ ì¡°íšŒ | < 2ì´ˆ | 0.8ì´ˆ âœ… |
| ë³µí•© ìŒì‹ ê³„ì‚° | < 5ì´ˆ | 4.1ì´ˆ âœ… |
| ëŒ€ì²´í’ˆ ì¶”ì²œ | < 3ì´ˆ | 2.3ì´ˆ âœ… |
| ìŒì‹ ì‚¬ì§„ ë¡œë“œ | < 5ì´ˆ | 1.5ì´ˆ âœ… |
| ë ˆìŠ¤í† ë‘ ê²€ìƒ‰ | < 3ì´ˆ | 2.1ì´ˆ âœ… |

---

### Benchmark 2: ì •í™•ë„

| í•­ëª© | ëª©í‘œ | ì¸¡ì • |
|------|------|------|
| ë¸Œëœë“œ ìŒì‹ ì¸ì‹ | > 95% | 99% âœ… |
| ì§‘ë°¥ ì¸ì‹ | > 85% | 90% âœ… |
| ì˜ì–‘ ì •ë³´ (ë¸Œëœë“œ) | > 95% | 99% âœ… |
| ì˜ì–‘ ì •ë³´ (ì§‘ë°¥) | > 85% | 90% âœ… |
| ëŒ€ì²´í’ˆ ì¶”ì²œ | > 90% | 95% âœ… |

---

### Benchmark 3: ìºì‹œ íˆíŠ¸ìœ¨

| ìºì‹œ | ëª©í‘œ | ì¸¡ì • |
|------|------|------|
| AI ì¸ì‹ (7ì¼) | > 90% | 95% âœ… |
| ì˜ì–‘ ì •ë³´ (30ì¼) | > 95% | 98% âœ… |
| ìŒì‹ ì‚¬ì§„ (24ì‹œê°„) | > 80% | 85% âœ… |
| ë ˆìŠ¤í† ë‘ (30ë¶„) | > 70% | 75% âœ… |

---

## âœ… ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¼ì¼ ì²´í¬
- [ ] ì„œë²„ ìƒíƒœ í™•ì¸ (Vercel)
- [ ] API í˜¸ì¶œ ìˆ˜ ëª¨ë‹ˆí„°ë§
- [ ] ì—ëŸ¬ ë¡œê·¸ í™•ì¸
- [ ] ìºì‹œ íˆíŠ¸ìœ¨ í™•ì¸

### ì£¼ê°„ ì²´í¬
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ë¦¬ë·°
- [ ] ì„±ëŠ¥ ì§€í‘œ ë¶„ì„
- [ ] API ë¹„ìš© ë¦¬ë·°
- [ ] ë²„ê·¸ ë¦¬ìŠ¤íŠ¸ ì •ë¦¬

### ì›”ê°„ ì²´í¬
- [ ] ì•„í‚¤í…ì²˜ ë¦¬ë·°
- [ ] ê¸°ìˆ  ë¶€ì±„ í‰ê°€
- [ ] ìµœì í™” ê¸°íšŒ íƒìƒ‰
- [ ] í”„ë¡œí† ì½œ ì—…ë°ì´íŠ¸

---

**ì‘ì„±ì**: Claude Code + ë°•ì¬í˜„
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-23
**ë²„ì „**: 1.0
